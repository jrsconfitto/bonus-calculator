<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Tangle document</title>

    <!-- Tangle -->
    <script type="text/javascript" src="Tangle.js"></script>

    <!-- TangleKit (optional) -->
    <link rel="stylesheet" href="TangleKit/TangleKit.css" type="text/css">
    <script type="text/javascript" src="TangleKit/mootools.js"></script>
    <script type="text/javascript" src="TangleKit/sprintf.js"></script>
    <script type="text/javascript" src="TangleKit/BVTouchable.js"></script>
    <script type="text/javascript" src="TangleKit/TangleKit.js"></script>
    <script type="text/javascript" src="accounting.js"></script>

    <!-- example -->
    <script type="text/javascript">

        function setUpTangle () {

            var element = document.getElementById("example");

            var tangle = new Tangle(element, {
                initialize: function () {
                    this.bonus = 50;
                    this.takeOut = 25;
                    this.taxRate = 35;
                },
                update: function () {
                    this.taxes = this.takeOut * (this.taxRate / 100)
                    this.taxed = accounting.formatMoney(this.taxes)
                    this.inPocket = this.takeOut - this.taxes
                    this.inPocketDisplay = accounting.formatMoney(this.inPocket)
                    this.investments = accounting.formatMoney(this.bonus - this.taxes - this.inPocket)
                }
            });
        }

    </script>
</head>

<body onload="setUpTangle();">
    <div id="example">
        <p>This is my bonus calculator.</p>

        <p>
            Let's say your bonus is <span data-var="bonus" class="TKNumberField"> dollars</span>
        </p>

        <p>
            Assuming a tax rate of <span data-var="taxRate" data-format="%.0f" class="TKAdjustableNumber">%</span>, when you try to take <span data-var="takeOut" class="TKAdjustableNumber" data-min="0" data-step="25"> dollars out of pocket</span>...
        </p>
        <p>
             You will pay <span data-var="taxed"> in taxes</span>, have <span data-var="inPocketDisplay"> dollars</span> in your pocket and you will have <span data-var="investments"> left</span> for your investments.
        </p>
    </div>

</body>
</html>
